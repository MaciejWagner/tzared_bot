# F4.T6: Phase 4 Integration

## Agent: QA_INTEGRATION

## Task Overview
Create integration tests for the complete Hyper-V infrastructure.

## Context
All Phase 4 components are implemented. Verify end-to-end VM orchestration.

## Requirements

1. Create integration tests:
   - Test_CreateAndStartWorker
   - Test_OrchestratorDistributesWork
   - Test_CommunicationBetweenHostAndVM
   - Test_FullGenerationRun
   - Test_GracefulShutdown

2. Create VM stress tests:
   - Start max workers simultaneously
   - Run multiple games
   - Monitor memory and CPU

3. Create failure handling tests:
   - Worker crash recovery
   - Network disconnection
   - Timeout handling

4. Create demo:
   - Start orchestrator
   - Create 4 workers
   - Run mock generation
   - Collect results
   - Shutdown cleanly

## Outputs
- `tests/TzarBot.Tests/Phase4/IntegrationTests.cs`
- `tests/TzarBot.Tests/Phase4/StressTests.cs`
- `src/TzarBot.Infrastructure.Demo/Program.cs`

## Test Commands
```bash
dotnet test tests/TzarBot.Tests --filter "FullyQualifiedName~Phase4.Integration"
dotnet run --project src/TzarBot.Infrastructure.Demo
```

## Validation
- [ ] All integration tests pass
- [ ] Demo runs successfully
- [ ] VMs are cleaned up properly
- [ ] No resource leaks
